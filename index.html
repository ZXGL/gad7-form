<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>å¿ƒç†å¥åº·æµ‹è¯„è¡¨ï¼ˆGAD-7 & PHQ-9ï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
      color: #333;
    }
    .section {
      background: white;
      padding: 20px;
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    label {
      display: block;
      margin-top: 1rem;
    }
    select {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.5rem;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 2rem;
      padding: 10px 20px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    .result {
      margin-top: 1.5rem;
      font-weight: bold;
      color: #222;
    }
  </style>
</head>
<body>
  <h1>å¿ƒç†å¥åº·æµ‹è¯„</h1>
  <p style="text-align: center;">åŒ…å« GAD-7 ç„¦è™‘é‡è¡¨ ä¸ PHQ-9 æŠ‘éƒé‡è¡¨</p>

  <form id="testForm">
    <div class="section">
      <h2>GAD-7 ç„¦è™‘é‡è¡¨</h2>
      <p>è¯·æ ¹æ®è¿‡å»ä¸¤å‘¨çš„æ„Ÿå—ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ çš„é€‰é¡¹ï¼š</p>
      <div id="gad7-questions"></div>
    </div>

    <div class="section">
      <h2>PHQ-9 æŠ‘éƒé‡è¡¨</h2>
      <p>è¯·æ ¹æ®è¿‡å»ä¸¤å‘¨çš„æ„Ÿå—ï¼Œé€‰æ‹©æœ€ç¬¦åˆä½ çš„é€‰é¡¹ï¼š</p>
      <div id="phq9-questions"></div>
    </div>

    <button type="button" onclick="calculateScore()">æäº¤æµ‹è¯„</button>
    <div class="result" id="scoreResult"></div>
  </form>

  <script>
  const gad7_questions = [
    "æ„Ÿåˆ°ç´§å¼ ã€ç„¦è™‘æˆ–æ€¥åˆ‡ï¼Ÿ",
    "æ— æ³•æ§åˆ¶æ‹…å¿§ï¼Ÿ",
    "å¯¹å„ç§äº‹æƒ…è¿‡åº¦æ‹…å¿§ï¼Ÿ",
    "éš¾ä»¥æ”¾æ¾ä¸‹æ¥ï¼Ÿ",
    "åç«‹ä¸å®‰æˆ–å®¹æ˜“çƒ¦èºï¼Ÿ",
    "å®¹æ˜“ç”Ÿæ°”æˆ–æ¼æ€’ï¼Ÿ",
    "æ‹…å¿ƒå°†ä¼šå‘ç”Ÿå¯æ€•çš„äº‹æƒ…ï¼Ÿ"
  ];
  const phq9_questions = [
    "å¯¹åšäº‹æƒ…æä¸èµ·å…´è¶£æˆ–ä¹è¶£ï¼Ÿ",
    "æ„Ÿåˆ°æƒ…ç»ªä½è½ã€æ²®ä¸§æˆ–ç»æœ›ï¼Ÿ",
    "å…¥ç¡å›°éš¾ã€æ˜“é†’æˆ–ç¡å¾—å¤ªå¤šï¼Ÿ",
    "æ„Ÿåˆ°ç–²ä¹æˆ–æ²¡æœ‰æ´»åŠ›ï¼Ÿ",
    "é£Ÿæ¬²ä¸æŒ¯æˆ–åƒå¾—è¿‡å¤šï¼Ÿ",
    "è§‰å¾—è‡ªå·±å¾ˆå¤±è´¥ï¼Œæˆ–è®©è‡ªå·±æˆ–å®¶äººå¤±æœ›ï¼Ÿ",
    "æ³¨æ„åŠ›éš¾ä»¥é›†ä¸­ï¼Œæ¯”å¦‚çœ‹æŠ¥çº¸æˆ–çœ‹ç”µè§†æ—¶ï¼Ÿ",
    "åŠ¨ä½œæˆ–è¯´è¯é€Ÿåº¦å˜æ…¢ã€æˆ–åç«‹ä¸å®‰ã€åŠ¨æ¥åŠ¨å»ï¼Ÿ",
    "æœ‰ä¸å¦‚æ­»äº†ç®—äº†æˆ–è‡ªæ®‹çš„å¿µå¤´ï¼Ÿ"
  ];
  const options = [
    "0 - ä»æœª",
    "1 - å‡ å¤©",
    "2 - ä¸€åŠä»¥ä¸Šæ—¶é—´",
    "3 - å‡ ä¹æ¯å¤©"
  ];

  function createQuestionBlock(containerId, questions) {
    const container = document.getElementById(containerId);
    questions.forEach((q, i) => {
      const label = document.createElement("label");
      label.textContent = `${i + 1}. ${q}`;
      const select = document.createElement("select");
      select.name = containerId + "_q" + i;
      options.forEach((opt, j) => {
        const option = document.createElement("option");
        option.value = j;
        option.text = opt;
        select.appendChild(option);
      });
      container.appendChild(label);
      container.appendChild(select);
    });
  }

  function interpretGAD(score) {
    if (score <= 4) return ["æ— æˆ–è½»åº¦ç„¦è™‘", "æƒ…ç»ªæ³¢åŠ¨å±äºæ­£å¸¸ç°è±¡ï¼Œæ³¨æ„æ—¥å¸¸æ”¾æ¾ã€‚"];
    if (score <= 9) return ["ä¸­åº¦ç„¦è™‘", "å¯èƒ½æºäºå­¦ä¹ å‹åŠ›ã€äººé™…å…³ç³»æˆ–æœªæ¥ç„¦è™‘ã€‚"];
    if (score <= 14) return ["ä¸­é‡åº¦ç„¦è™‘", "å¯èƒ½éœ€è¦å¿ƒç†ç–å¯¼æˆ–ä¸“ä¸šå’¨è¯¢ã€‚"];
    return ["é‡åº¦ç„¦è™‘", "å»ºè®®å°½å¿«å¯»æ±‚å¿ƒç†åŒ»ç”Ÿå¸®åŠ©ï¼Œè¿›è¡Œç³»ç»Ÿè¯„ä¼°ã€‚"];
  }

  function interpretPHQ(score) {
    if (score <= 4) return ["æœ€å°æŠ‘éƒ", "å½“å‰å¿ƒæƒ…å¹³ç¨³ï¼Œå¦‚å¶æœ‰ä½è½å¯é€šè¿‡ä¼‘æ¯ç¼“è§£ã€‚"];
    if (score <= 9) return ["è½»åº¦æŠ‘éƒ", "å¯èƒ½ä¸å‹åŠ›ã€å­¤ç‹¬æ„Ÿæˆ–å¤±è½äº‹ä»¶æœ‰å…³ã€‚"];
    if (score <= 14) return ["ä¸­åº¦æŠ‘éƒ", "æ³¨æ„ç¡çœ é¥®é£Ÿä¸æƒ…ç»ªç®¡ç†ï¼Œå»ºè®®å¿ƒç†å’¨è¯¢ã€‚"];
    if (score <= 19) return ["ä¸­é‡åº¦æŠ‘éƒ", "éœ€å¼•èµ·é‡è§†ï¼Œå¯èƒ½å½±å“ç”Ÿæ´»å’Œå­¦ä¹ è´¨é‡ã€‚"];
    return ["é‡åº¦æŠ‘éƒ", "å»ºè®®å°½å¿«å¯»æ±‚ä¸“ä¸šå¿ƒç†æˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿçš„å¸®åŠ©ã€‚"];
  }

  function calculateScore() {
    let gadScore = 0;
    let phqScore = 0;

    for (let i = 0; i < gad7_questions.length; i++) {
      gadScore += parseInt(document.querySelector(`[name="gad7-questions_q${i}"]`).value);
    }
    for (let i = 0; i < phq9_questions.length; i++) {
      phqScore += parseInt(document.querySelector(`[name="phq9-questions_q${i}"]`).value);
    }

    const [gadLevel, gadDesc] = interpretGAD(gadScore);
    const [phqLevel, phqDesc] = interpretPHQ(phqScore);

    const resultText = `
      ğŸ“Š <strong>GAD-7 ç„¦è™‘é‡è¡¨ï¼š</strong><br>
      æ€»åˆ†ï¼š<strong>${gadScore}</strong>ï¼Œç­‰çº§ï¼š<strong>${gadLevel}</strong><br>
      ğŸ‘‰ è¯´æ˜ï¼š${gadDesc}<br><br>

      ğŸ“Š <strong>PHQ-9 æŠ‘éƒé‡è¡¨ï¼š</strong><br>
      æ€»åˆ†ï¼š<strong>${phqScore}</strong>ï¼Œç­‰çº§ï¼š<strong>${phqLevel}</strong><br>
      ğŸ‘‰ è¯´æ˜ï¼š${phqDesc}
    `;

    document.getElementById("scoreResult").innerHTML = resultText;
  }

  createQuestionBlock("gad7-questions", gad7_questions);
  createQuestionBlock("phq9-questions", phq9_questions);
  </script>
</body>
</html>

